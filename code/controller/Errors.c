#include <avr/pgmspace.h>

#include "Errors.h"

/************ BEGIN OF AUTOGENERATED SECTION ************/
static const char NAME_SUCCESS[] PROGMEM = "SUCCESS";
static const char DESC_SUCCESS[] PROGMEM = "Success";
static const char NAME_ERR_EEPROM_VERSION_INVALID[] PROGMEM = "ERR_EEPROM_VERSION_INVALID";
static const char DESC_ERR_EEPROM_VERSION_INVALID[] PROGMEM = "EEPROM version invalid";
static const char NAME_ERR_EEPROM_HASH_INVALID[] PROGMEM = "ERR_EEPROM_HASH_INVALID";
static const char DESC_ERR_EEPROM_HASH_INVALID[] PROGMEM = "EEPROM hash invalid";
static const char NAME_ERR_FLASH_HASH_INVALID[] PROGMEM = "ERR_FLASH_HASH_INVALID";
static const char DESC_ERR_FLASH_HASH_INVALID[] PROGMEM = "FLASH hash invalid";
static const char NAME_ERR_RELAIS_VOLTAGE_MISSING[] PROGMEM = "ERR_RELAIS_VOLTAGE_MISSING";
static const char DESC_ERR_RELAIS_VOLTAGE_MISSING[] PROGMEM = "Relais voltage missing";
static const char NAME_ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY[] PROGMEM = "ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY";
static const char DESC_ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY[] PROGMEM = "Relais voltage missing because of emergency button";
static const char NAME_ERR_SLAVE_DEFECT_FRONTPANEL[] PROGMEM = "ERR_SLAVE_DEFECT_FRONTPANEL";
static const char DESC_ERR_SLAVE_DEFECT_FRONTPANEL[] PROGMEM = "Defective frontpanel slave";
static const char NAME_ERR_SLAVE_DEFECT_CURRENTMONITOR[] PROGMEM = "ERR_SLAVE_DEFECT_CURRENTMONITOR";
static const char DESC_ERR_SLAVE_DEFECT_CURRENTMONITOR[] PROGMEM = "Defective current monitor slave";
static const char NAME_ERR_SLAVE_DEFECT_VOLTAGEMONITOR[] PROGMEM = "ERR_SLAVE_DEFECT_VOLTAGEMONITOR";
static const char DESC_ERR_SLAVE_DEFECT_VOLTAGEMONITOR[] PROGMEM = "Defective voltage monitor slave";

static const char* const errorStringSymbolNames[] PROGMEM = {
	[SUCCESS] = NAME_SUCCESS,
	[ERR_EEPROM_VERSION_INVALID] = NAME_ERR_EEPROM_VERSION_INVALID,
	[ERR_EEPROM_HASH_INVALID] = NAME_ERR_EEPROM_HASH_INVALID,
	[ERR_FLASH_HASH_INVALID] = NAME_ERR_FLASH_HASH_INVALID,
	[ERR_RELAIS_VOLTAGE_MISSING] = NAME_ERR_RELAIS_VOLTAGE_MISSING,
	[ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY] = NAME_ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY,
	[ERR_SLAVE_DEFECT_FRONTPANEL] = NAME_ERR_SLAVE_DEFECT_FRONTPANEL,
	[ERR_SLAVE_DEFECT_CURRENTMONITOR] = NAME_ERR_SLAVE_DEFECT_CURRENTMONITOR,
	[ERR_SLAVE_DEFECT_VOLTAGEMONITOR] = NAME_ERR_SLAVE_DEFECT_VOLTAGEMONITOR,
};

static const char* const errorStringDescriptions[] PROGMEM = {
	[SUCCESS] = DESC_SUCCESS,
	[ERR_EEPROM_VERSION_INVALID] = DESC_ERR_EEPROM_VERSION_INVALID,
	[ERR_EEPROM_HASH_INVALID] = DESC_ERR_EEPROM_HASH_INVALID,
	[ERR_FLASH_HASH_INVALID] = DESC_ERR_FLASH_HASH_INVALID,
	[ERR_RELAIS_VOLTAGE_MISSING] = DESC_ERR_RELAIS_VOLTAGE_MISSING,
	[ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY] = DESC_ERR_RELAIS_VOLTAGE_MISSING_EMERGENCY,
	[ERR_SLAVE_DEFECT_FRONTPANEL] = DESC_ERR_SLAVE_DEFECT_FRONTPANEL,
	[ERR_SLAVE_DEFECT_CURRENTMONITOR] = DESC_ERR_SLAVE_DEFECT_CURRENTMONITOR,
	[ERR_SLAVE_DEFECT_VOLTAGEMONITOR] = DESC_ERR_SLAVE_DEFECT_VOLTAGEMONITOR,
};
/************ END OF AUTOGENERATED SECTION ************/


const char* getErrorString(enum resultCode aError) {
	const char *string;
	memcpy_P(&string, &errorStringDescriptions[aError], sizeof(const char*));
	return string;
}

const char* getErrorSymbolName(enum resultCode aError) {
	const char *string;
	memcpy_P(&string, &errorStringSymbolNames[aError], sizeof(const char*));
	return string;
}
